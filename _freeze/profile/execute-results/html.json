{
  "hash": "627f24020e982229364c7e378c6a6850",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Health profile (1)\"\nexecute: \n  message: false\n  warning: false\n---\n\n\n\n\n## Putting it all together\n\nHealth profiles combine multiple indicators to allow comparison, usually between population or administrative units e.g. regions, hospitals, ethnic groups, age groups and provide tools to facilitate a range of comparison.\n\n### Workflow\n\n\n```{mermaid}\n%%| label: fig-workflow-prof\n%%| fig-cap: \"Proposed workflow for creating health profiles\"\n\nflowchart TD\nA[Configure per-indicator data] --> B[bind datasets]\n\n```\n\n\nUK health profiles (for example, Public Health Outcome Framework) offer a wide range of comparison:\n\n-   Between and within areas\n\n-   Between age groups and genders\n\n## Visualisation\n\n| Comparison                            | Visualisation                         | Comment                                                                                                                                                                                                     |\n|-------------|-------------|----------------------------------------------|\n| Single area, multiple indicators      | Spine or bullet chart                 | Indicator values are scaled so that they can be directly compared. Single area (unit) values are usually encoded as a dot or line, plotted on a bar representing the range of values for all areas / units. |\n| Multiple areas, single indicator      | Column / bar chart                    | Plots can be ordered and plotted horizontally to enable rapid appraisal of relative performance. Confidence intervals can be added                                                                          |\n| Indicator pairs / multiple indicators | Scatter plot or scatter plot matrices | May include smooths (lines representing fit to the data - common options are linear, loess and generalised additive models)                                                                                 |\n| Spatial variation                     | Choropleth maps                       | Requires boundary files and GIS tools                                                                                                                                                                       |\n| Overview                              | Heatmap / tile chart                  | Colour cells with statistical significance categories (e.g. high / low)                                                                                                                                     |\n|                                       |                                       |                                                                                                                                                                                                             |\n\nWe will take the toolkit for plotting provided by the UKHSA which generates the charts used in the online version if the PHOF as a basis for plotting profiles. This is available at https://github.com/ukhsa-collaboration/fingertipscharts.\n\nNote: in the PHOF statistical significance is defined by whether the global average value (e.g. KSA) is contained with the confidence limits of the unit values (e.g. 'Asir region). It does not calculate limits for the global value. The rationale for this is explained in @Public-Health-Data-Science2018-et\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## install fingertipscharts\n## \n\nif(!require(\"fingertipscharts\")) devtools::install_github(\"https://github.com/ukhsa-collaboration/fingertipscharts\", force = TRUE)\n\nlibrary(fingertipscharts)\n```\n:::\n\n\nTo use `fingertipscharts` data has to be in the right format.\n\nBar charts can be created using the `compare_areas` function\n\n\n::: {#fig-compare .cell}\n\n```{.r .cell-code}\nsmok_rates |>\n    compare_areas(area = region, value = value, lowerci = lowercl, upperci = uppercl, title = \"Rate of attendance at smoking clinics 18-44: F\")\n\nflu_coverage |>\n    filter(gender == \"female\" & age == \"0-18\") |>\n    compare_areas(area = region, value = value, lowerci = lowercl, upperci = uppercl, fill = gender, title = \"Flu vaccination coverage 0-18; F\")\n```\n\n::: {.cell-output-display}\n![Smoking rates](profile_files/figure-html/fig-compare-1.png){#fig-compare-1 width=672}\n:::\n\n::: {.cell-output-display}\n![Paediatric flu coverage](profile_files/figure-html/fig-compare-2.png){#fig-compare-2 width=672}\n:::\n\nUsing `compare-areas\n:::\n\n\n## Data overview\n\nPHOF uses a heatmap (known as a \"tartan rug\" to display area by indicator summaries. The term tartan rug is used to refer to the colour scheme (red-amber-green) to denote statistical significance. The\n\n\n::: {#tbl-format .cell tbl-cap='Required data format example'}\n\n```{.r .cell-code}\nprof_data <- bind_rows(smok_rates, flu_coverage) |>\n    select(-c(11:13)) \n\n## calculate ksa values\nksa_values <- prof_data |>\n    group_by(indicator) |>\n    reframe(ksa_values = 100000 * sum(n, na.rm = TRUE) / sum(pop))\n\n## join to data\nprof_data <- prof_data |>\n    left_join(ksa_values)\n\n## code for statistical significance\n\nprof_data <- prof_data |>\n    mutate(significance = case_when(lowercl > ksa_values ~\"high\" ,\n                                     uppercl < ksa_values~ \"low\",\n                                    TRUE ~ \"ns\"))\n\nhead(prof_data) |>\n    gt::gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ovrauvzaek\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ovrauvzaek table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ovrauvzaek thead, #ovrauvzaek tbody, #ovrauvzaek tfoot, #ovrauvzaek tr, #ovrauvzaek td, #ovrauvzaek th {\n  border-style: none;\n}\n\n#ovrauvzaek p {\n  margin: 0;\n  padding: 0;\n}\n\n#ovrauvzaek .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ovrauvzaek .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ovrauvzaek .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ovrauvzaek .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ovrauvzaek .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ovrauvzaek .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ovrauvzaek .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ovrauvzaek .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ovrauvzaek .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ovrauvzaek .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ovrauvzaek .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ovrauvzaek .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ovrauvzaek .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ovrauvzaek .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ovrauvzaek .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ovrauvzaek .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ovrauvzaek .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ovrauvzaek .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ovrauvzaek .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ovrauvzaek .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ovrauvzaek .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ovrauvzaek .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ovrauvzaek .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ovrauvzaek .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ovrauvzaek .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ovrauvzaek .gt_left {\n  text-align: left;\n}\n\n#ovrauvzaek .gt_center {\n  text-align: center;\n}\n\n#ovrauvzaek .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ovrauvzaek .gt_font_normal {\n  font-weight: normal;\n}\n\n#ovrauvzaek .gt_font_bold {\n  font-weight: bold;\n}\n\n#ovrauvzaek .gt_font_italic {\n  font-style: italic;\n}\n\n#ovrauvzaek .gt_super {\n  font-size: 65%;\n}\n\n#ovrauvzaek .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ovrauvzaek .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ovrauvzaek .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ovrauvzaek .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ovrauvzaek .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ovrauvzaek .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ovrauvzaek .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ovrauvzaek .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ovrauvzaek div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"indicator\">indicator</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"region\">region</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"age\">age</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"gender\">gender</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">n</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"pop\">pop</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"value\">value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lowercl\">lowercl</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"uppercl\">uppercl</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"timeperiod\">timeperiod</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ksa_values\">ksa_values</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"significance\">significance</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">'Asir</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">366324</td>\n<td headers=\"value\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">ns</td></tr>\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">Al Bahah</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">28</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">61969</td>\n<td headers=\"value\" class=\"gt_row gt_right\">45.183882</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">30.017729</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">65.30573</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">high</td></tr>\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">Al Hudud ash Shamaliyah</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">4</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">70149</td>\n<td headers=\"value\" class=\"gt_row gt_right\">5.702148</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">1.553643</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">14.59976</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">ns</td></tr>\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">Al Jawf</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">23</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">103536</td>\n<td headers=\"value\" class=\"gt_row gt_right\">22.214495</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">14.077587</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">33.33412</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">high</td></tr>\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">Al Madinah al Munawwarah</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">387944</td>\n<td headers=\"value\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">ns</td></tr>\n    <tr><td headers=\"indicator\" class=\"gt_row gt_left\">smoking 18-44</td>\n<td headers=\"region\" class=\"gt_row gt_left\">Al Mintaqah ash Sharqiyah</td>\n<td headers=\"age\" class=\"gt_row gt_right\">18-44</td>\n<td headers=\"gender\" class=\"gt_row gt_left\">female</td>\n<td headers=\"n\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"pop\" class=\"gt_row gt_right\">877403</td>\n<td headers=\"value\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"lowercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"uppercl\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"timeperiod\" class=\"gt_row gt_right\">2023</td>\n<td headers=\"ksa_values\" class=\"gt_row gt_right\">7.618658</td>\n<td headers=\"significance\" class=\"gt_row gt_left\">ns</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n### Heatmap\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprof_data |>\n    ggplot() +\n    geom_tile(aes(region, indicator, fill = significance)) +\n    scale_fill_manual(values = c(\"red\", \"darkgreen\", \"goldenrod\")) +\n    scale_x_discrete(position = \"top\") +\n    theme(axis.text.x = element_text(angle = 90, hjust = 0)) +\n    labs(y = \"\", x = \"\")\n```\n\n::: {.cell-output-display}\n![](profile_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### \n",
    "supporting": [
      "profile_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}